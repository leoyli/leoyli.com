{{= _fn.loadPartial('_header') }}

<h1 class="container mb-4">Posts Stack</h1>

<form class="container" method="POST">
    <div class="container d-flex px-0 pb-2">
        <select class="custom-select custom-select-sm col-2 mr-2">
            <option selected>Select a bulk action</option>
            <option value="pinned">Pin</option>
            <option value="hidden">Hide</option>
            <option value="recycled">Recycle</option>
        </select>
        <button class="btn btn-sm btn-outline-secondary" aria-label="Apply"
                formaction="/admin/stack/posts?_method=PATCH" >Apply</button>
    </div>
    <table class="table table-sm table-hover">
        <thead>
        <tr>
            <th class="text-center" scope="col" width="3%">
                <label for="select-all" class="m-0"><input id="select-all" type="checkbox"></label>
            </th>
            <th scope="col" width="45%">Title</th>
            <th scope="col" width="13%">Author</th>
            <th scope="col" width="13%">Category</th>
            <th scope="col" width="13%">Tags</th>
            <th scope="col" width="13%">Time</th>
        </tr>
        </thead>
        <tbody>
        {{? list.length > 0 }}
        {{ list.forEach(function(post) { }}
        <tr>
            <th class="text-center" scope="row">
                <input id="{{= post._id }}" name="target" type="checkbox" value="{{= post._id }}">
                <label for="{{= post._id }}"></label>
            </th>
            <td>{{= post.title }}</td>
            <td>{{= post.author.nickname }}</td>
            <td>{{= post.category }}</td>
            <td>{{= post.tags }}</td>
            <td>{{= new Date(post.time.created).toDateString() }}</td>
        </tr>
        {{ }); }}{{?}}
        </tbody>
    </table>
</form>

{{= _widget.pagination }}
{{= _fn.loadPartial('_footer') }}
