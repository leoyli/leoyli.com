{{= _fn.loadPartial('_header') }}

<h1 class="container mb-4">Result</h1>

<div class="container d-flex flex-row-reverse pb-4">
    <!-- breadcrumb <ol class="breadcrumb"></ol> -->

    <!-- outline -->
    <aside class="col-3 d-none d-lg-block"><!-- sidebar placeholder --></aside>

    <!-- content -->
    <div class="col-9">
        {{? list.length === 0 }}
        <h3>NO RESULT</h3>
        {{??}}{{ list.forEach(function(post) { }}
        <article class="mb-4 pb-4" id="{{= post._id }}">
            <h2 class="_title">
                {{? post.visibility.pinned }} [PINNED] {{?}}
                {{? post.status === 'drafted' }} [DRAFT] {{?}}
                <a href="/posts/{{= post.canonical }}">{{= post.title }}</a>
            </h2>
            <header class="row">
                <div class="col-md-9">
                    {{= post.author.username }}
                    ｜<a href="/posts/edit/{{= post._id }}">(edit)</a>
                    ｜<a href="/posts/class/{{= post.category }}">{{= post.category }}</a>
                    ｜Revised: {{= post._revised }}
                    {{? post.status === 'drafted' }}｜<i class="fa fa-hourglass-half"></i>{{?}}
                    {{? post.visibility.hidden }}｜<i class="fa fa-eye-slash"></i>{{?}}
                </div>
                <time class="col-md-3 text-lg-right"
                      datetime="{{= post.time.updated }}">{{= new Date(post.time.updated).toDateString() }}</time>
            </header>
            {{? post.featured }}
            <figure class="_featured py-2">
                <a href="/posts/{{= post.canonical }}">
                    <img class="img-fluid" src="{{= post.featured }}" alt="{{= post.title }}" />
                </a>
            </figure>
            {{?}}
        </article>
        {{ }); }}{{?}}
    </div>
</div>

{{= _widget.pagination }}
{{= _fn.loadPartial('_footer') }}
