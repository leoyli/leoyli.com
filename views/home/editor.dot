{{= _fn.loadPartial('_header') }}

<h1 class="container mb-4">{{= post._id ? 'UPDATE A POST' : 'WRITE A POST' }}</h1>

<form class="container d-flex pb-5" method="POST">
    <fieldset class="col-lg-9">
        <div class="form-row">
            <div class="form-group col-md-7">
                <label class="font-weight-bold" for="title">Title</label>
                <input id="title" {{? post.title }}{{= `value="${post.title}"` }}{{?}}
                       class="form-control" name="post[title]" placeholder="Enter the post title" />
            </div>
            <div class="form-group col-md-5">
                <label class="font-weight-bold" for="category">Category</label>
                <input id="category" {{? post.category }}{{= `value="${post.category}"` }}{{?}}
                       class="form-control" name="post[category]" placeholder="Enter the category" />
            </div>
        </div>
        <div class="form-group">
            <label class="font-weight-bold" for="featuredImage">Featured Image Address</label>
            <input id="featuredImage" {{? post.featured }}{{= `value="${post.featured}"` }}{{?}}
                   class="form-control" name="post[featured]" placeholder="Enter URL for a featured image/video" />
        </div>
        <div class="form-group">
            <label class="font-weight-bold" for="content">Content</label>
            <textarea id="content" class="form-control" name="post[content]" rows="16"
                      placeholder="Enter the post content">{{? post.content }}{{= post.content }}{{?}}</textarea>
        </div>
        <button class="btn btn-outline-primary text-uppercase float-right mx-1"
                formaction="/post/editor/{{? post._id }}{{= `${post._id}?_method=PATCH` }}{{?}}">
            {{= post._id ? 'Update' : 'Submit' }}
        </button>
        {{? post._id }}
            <button class="btn btn-outline-danger text-uppercase float-right mx-1"
                formaction="/post/editor/{{= post._id }}?_method=DELETE">DELETE</button>
        {{?}}
    </fieldset>

    <fieldset class="col-lg-3 mt-4">
        <div class="input-group input-group-sm my-2">
            <div class="input-group-prepend col-4 px-0">
                <label class="input-group-text w-100" for="Visibility">
                    <span class="w-100">Visibility</span>
                </label>
            </div>
            <select id="Visibility" class="custom-select col-8" name="post[visibility]">
                <option value="normal" {{? post.visibility === 'normal'}}selected{{?}}>Normal</option>
                <option value="hided" {{? post.visibility === 'hided'}}selected{{?}}>Hided</option>
                <option value="pinned" {{? post.visibility === 'pinned'}}selected{{?}}>Pined</option>
                <option value="protected" {{? post.visibility === 'protected'}}selected{{?}}>Protected</option>
            </select>
        </div>
        <div class="input-group input-group-sm mb-2">
            <div class="input-group-prepend col-4 px-0">
                <label class="input-group-text w-100" for="status">
                    <span class="w-100">Status</span>
                </label>
            </div>
            <select id="status" class="custom-select col-8" name="post[status]">
                <option value="published" {{? post.status === 'published'}}selected{{?}}>Publishing</option>
                <option value="drafted" {{? post.status === 'drafted'}}selected{{?}}>Pending</option>
            </select>
        </div>
    </fieldset>
</form>


{{= _fn.loadPartial('_footer') }}
