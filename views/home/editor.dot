{{= _fn.loadPartial('_header') }}

<h1 class="container mb-4">{{= post._id ? 'UPDATE A POST' : 'WRITE A POST' }}</h1>

<div class="container pb-5">
    <form class="col-lg-9" action="/post/editor/{{? post._id }}{{= `${post._id}?_method=PATCH` }}{{?}}" method="POST">
        <div class="form-row">
            <div class="form-group col-md-7">
                <label class="font-weight-bold" for="postTitle">Title</label>
                <input {{? post.title }}{{= `value="${post.title}"` }}{{?}}
                        class="form-control" name="post[title]" placeholder="Enter the post title" />
            </div>
            <div class="form-group col-md-5">
                <label class="font-weight-bold" for="postClass">Category</label>
                <input {{? post.category }}{{= `value="${post.category}"` }}{{?}}
                        class="form-control" name="post[category]" placeholder="Enter the category" />
            </div>
        </div>
        <div class="form-group">
            <label class="font-weight-bold" for="postFtImg">Featured Image Address</label>
            <input {{? post.featured }}{{= `value="${post.featured}"` }}{{?}}
                    class="form-control" name="post[featured]" placeholder="Enter URL for a featured image/video" />
        </div>
        <div class="form-group">
            <label class="font-weight-bold" for="postContent">Content</label>
            <textarea class="form-control" name="post[content]" rows="16"
                      placeholder="Enter the post content">{{? post.content }}{{= post.content }}{{?}}</textarea>
        </div>
        <div class="float-right">
            <button class="btn btn-outline-primary text-uppercase">
                {{= post._id ? 'Update' : 'Submit' }}
            </button>
        </div>
    </form>

    {{? post._id }}
        <form class="float-right" action="/post/editor/{{= post._id }}?_method=DELETE" method="POST">
            <button class="btn btn-outline-danger text-uppercase mr-2">DELETE</button>
        </form>
    {{?}}
</div>

{{= _fn.loadPartial('_footer') }}
